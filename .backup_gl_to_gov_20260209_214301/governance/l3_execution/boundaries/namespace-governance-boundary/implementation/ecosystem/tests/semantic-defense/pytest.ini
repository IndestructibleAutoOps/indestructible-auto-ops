[pytest]
minversion = 7.0
addopts =
    -ra
    -q
    --strict-markers
    --strict-config
    --tb=short
testpaths =
    test_semantic_corruption
    test_hash_divergence
    test_yaml_failure
    test_event_missing_field
    test_tool_registry
    test_complement_missing
    test_canonicalization_invariant
    test_layered_sorting
    test_pipeline_interrupted

markers =
    critical: Critical severity tests (BLOCK pipeline)
    high: High severity tests (WARN and require complement)
    medium: Medium severity tests (LOG and optional complement)
    low: Low severity tests (INFO only)

filterwarnings =
    error
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

python_files = test_*.py
python_classes = Test*
python_functions = test_*