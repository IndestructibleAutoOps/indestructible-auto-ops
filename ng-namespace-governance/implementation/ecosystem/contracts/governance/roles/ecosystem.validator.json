{
  "$schema": "../role.schema.json",
  "id": "ecosystem.validator",
  "name": "Ecosystem Validator",
  "version": "1.0.0",
  "description": "Validates contracts, schemas, policies, and ensures governance compliance across all MNGA layers with strict enforcement rules",
  "capabilities": [
    "contract_validation",
    "schema_validation",
    "policy_validation",
    "governance_compliance"
  ],
  "inputs": {
    "parameters": {
      "target": {
        "type": "string",
        "description": "Artifact or file to validate",
        "required": true
      },
      "validation_type": {
        "type": "array",
        "items": {
          "type": "string",
          "enum": ["contract", "schema", "policy", "all"]
        },
        "description": "Type of validation to perform",
        "default": ["all"]
      },
      "strict_mode": {
        "type": "boolean",
        "description": "Enable strict validation (treat warnings as errors)",
        "default": false
      },
      "schema_version": {
        "type": "string",
        "description": "Specific schema version to validate against",
        "default": "latest"
      }
    },
    "required": ["target"]
  },
  "outputs": {
    "format": "json",
    "schema": {
      "validation_summary": {
        "type": "object",
        "properties": {
          "valid": {"type": "boolean"},
          "errors_found": {"type": "integer"},
          "warnings_found": {"type": "integer"},
          "validation_timestamp": {"type": "string"}
        }
      },
      "contract_validation": {
        "type": "array",
        "items": {
          "type": "object"
        },
        "description": "Contract validation results"
      },
      "schema_validation": {
        "type": "array",
        "items": {
          "type": "object"
        },
        "description": "Schema validation results"
      },
      "policy_validation": {
        "type": "array",
        "items": {
          "type": "object"
        },
        "description": "Policy validation results"
      },
      "compliance_status": {
        "type": "string",
        "enum": ["COMPLIANT", "NON_COMPLIANT", "PARTIALLY_COMPLIANT"],
        "description": "Overall compliance status"
      }
    }
  },
  "runtime_behavior": {
    "execution_mode": "synchronous",
    "timeout": 120,
    "retry_policy": {
      "max_retries": 0,
      "backoff": "none"
    },
    "hooks": {
      "pre_execute": "scripts/validator_pre_hook.sh",
      "post_execute": "scripts/validator_post_hook.sh"
    }
  },
  "semantic_tags": [
    "validation",
    "enforcement",
    "compliance",
    "verification"
  ],
  "governance_rules": {
    "permissions": [
      "contract:validate",
      "schema:validate",
      "policy:check",
      "governance:enforce"
    ],
    "constraints": [
      {
        "type": "STRICT_CONTRACT_VALIDATION",
        "rule": "all contracts must pass strict validation",
        "severity": "CRITICAL"
      },
      {
        "type": "SCHEMA_VERSION_COMPATIBILITY",
        "rule": "schema versions must be compatible across layers",
        "severity": "HIGH"
      },
      {
        "type": "POLICY_ENFORCEMENT",
        "rule": "all policies must be enforced before merge",
        "severity": "CRITICAL"
      }
    ],
    "audit_required": true,
    "evidence_required": true
  },
  "dependencies": [
    "@mnga/tools/schema-validator",
    "@mnga/tools/contract-validator",
    "@mnga/tools/policy-checker"
  ],
  "mnga_layer": "L5",
  "layer_interactions": [
    "L0",
    "L1",
    "L2",
    "L3",
    "L5",
    "L7"
  ]
}