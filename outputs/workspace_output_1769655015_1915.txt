export interface FabricGraph {
  id: string;
  nodes: Map<string, FabricNode>;
  edges: Map<string, FabricEdge>;
  
  // 分層視圖
  layers: Map<FabricLayer, LayerView>;
  
  // 投影視圖
  projections: Map<string, ProjectionView>;
  
  // 織網元資料
  metadata: FabricMetadata;
  
  // 演化狀態
  evolution: EvolutionState;
}

export interface LayerView {
  layer: FabricLayer;
  nodes: Set<string>;
  edges: Set<string>;
  
  // 層內統計
  statistics: LayerStatistics;
  
  // 層間連接
  interlayerConnections: Map<string, Set<string>>;
}

export interface LayerStatistics {
  nodeCount: number;
  edgeCount: number;
  density: number;
  avgClustering: number;
  maxConnectedComponent: number;
}

export interface ProjectionView {
  id: string;
  sourceSystem: string;         // 例如 'GRG', 'SRG', 'DAG'
  nodes: Set<string>;
  edges: Set<string>;
  
  transformationRules: any[];
  mappingFunctions: Map<string, any>;
  
  lastSync: number;
  consistency: number;
}

export interface FabricMetadata {
  version: string;
