# @GL-governed
# @GL-layer: agents
# @GL-semantic: agent-orchestration-configuration
# @GL-audit-trail: ../../engine/governance/GL_SEMANTIC_ANCHOR.json
#
# GL Unified Charter Activated
# Multi-Agent Orchestration Configuration

apiVersion: orchestration.machinenativeops.io/v1
kind: AgentOrchestration
metadata:
  name: multi-agent-parallel-orchestration
  version: "1.0.0"
  created_at: "2026-01-27T00:00:00Z"
  layer: "GL90-99"
  owner: "engineering-team"
  annotations:
    governance.machinenativeops.io/classification: "internal"
    governance.machinenativeops.io/approval: "approved"
    governance.machinenativeops.io/charter-version: "2.0.0"

spec:
  # Parallel execution strategy
  parallelism:
    max_concurrent_agents: 8
    timeout_seconds: 1800
    retry_policy:
      max_retries: 3
      backoff_multiplier: 2

  # Agent definitions
  agents:
    - id: gl-governance-validator
      name: "GL Governance Validator Agent"
      type: "governance"
      priority: 1
      enabled: true
      config:
        validation_scope:
          - "engine"
          - "file-organizer-system"
          - "instant"
          - "elasticsearch-search-system"
          - "infrastructure"
          - "esync-platform"
          - "gl-gate"
          - ".github"
        strict_mode: true
        enforce_semantic_anchors: true
      dependencies: []
      outputs:
        - "gl-validation-report.json"
        - "gl-compliance-summary.md"

    - id: codeql-monitor
      name: "CodeQL Monitor Agent"
      type: "monitoring"
      priority: 2
      enabled: true
      config:
        languages:
          - javascript
          - python
          - typescript
        scan_frequency: "daily"
        alert_threshold: "high"
      dependencies: []
      outputs:
        - "codeql-results.json"
        - "codeql-report.md"

    - id: quality-assurance
      name: "Quality Assurance Agent"
      type: "validation"
      priority: 3
      enabled: true
      config:
        checks:
          - "linting"
          - "formatting"
          - "test-coverage"
          - "security-scan"
        quality_threshold: 85
      dependencies: []
      outputs:
        - "quality-report.json"
        - "quality-metrics.md"

    - id: dependency-scanner
      name: "Dependency Scanner Agent"
      type: "security"
      priority: 4
      enabled: true
      config:
        scan_types:
          - "vulnerability"
          - "license"
          - "outdated"
        severity_filter: "medium+"
      dependencies: []
      outputs:
        - "dependency-report.json"
        - "vulnerability-summary.md"

    - id: architecture-validator
      name: "Architecture Validator Agent"
      type: "validation"
      priority: 5
      enabled: true
      config:
        validation_rules:
          - "gl-layer-compliance"
          - "api-version-consistency"
          - "metadata-completeness"
        schema_paths:
          - "gl/**/artifacts/*.yaml"
      dependencies: []
      outputs:
        - "architecture-validation.json"
        - "compliance-report.md"

    - id: documentation-generator
      name: "Documentation Generator Agent"
      type: "documentation"
      priority: 6
      enabled: true
      config:
        formats:
          - "markdown"
          - "yaml"
          - "json"
        templates_path: ".github/templates/"
      dependencies:
        - "architecture-validator"
      outputs:
        - "generated-docs/"
        - "docs-index.md"

    - id: performance-monitor
      name: "Performance Monitor Agent"
      type: "monitoring"
      priority: 7
      enabled: true
      config:
        metrics:
          - "execution-time"
          - "resource-usage"
          - "throughput"
        benchmark_targets:
          execution_time_ms: 5000
          memory_mb: 512
      dependencies: []
      outputs:
        - "performance-metrics.json"
        - "performance-report.md"

    - id: data-sync-agent
      name: "Data Synchronization Agent"
      type: "synchronization"
      priority: 1
      enabled: true
      config:
        serviceConfig: "instant/configs/data-sync-config.yaml"
        pipelines:
          - "users-sync"
          - "orders-sync"
          - "inventory-sync"
        integration_points:
          - "file-organizer-system"
          - "AEP-Engine"
        sync_modes:
          - "real-time"
          - "scheduled"
      dependencies: []
      outputs:
        - "sync-status.json"
        - "sync-report.md"

    - id: security-auditor
      name: "Security Auditor Agent"
      type: "security"
      priority: 8
      enabled: true
      config:
        audit_scopes:
          - "code"
          - "dependencies"
          - "configuration"
          - "secrets"
        compliance_standards:
          - "OWASP"
          - "CIS"
      dependencies:
        - "dependency-scanner"
      outputs:
        - "security-audit.json"
        - "security-findings.md"

    - id: reporting-aggregator
      name: "Reporting Aggregator Agent"
      type: "aggregation"
      priority: 9
      enabled: true
      config:
        aggregation_strategy: "merge"
        output_formats:
          - "summary"
          - "detailed"
          - "dashboard"
      dependencies:
        - "gl-governance-validator"
        - "codeql-monitor"
        - "quality-assurance"
        - "dependency-scanner"
        - "architecture-validator"
        - "performance-monitor"
        - "security-auditor"
      outputs:
        - "orchestration-report.json"
        - "executive-summary.md"
        - "dashboard-data.json"

  # Communication channels
  channels:
    - id: events
      type: "event-bus"
      config:
        retention_hours: 24
        max_size_mb: 100

    - id: alerts
      type: "notification"
      config:
        webhook_url: "${ALERT_WEBHOOK_URL}"
        severity_filter: "high+"

  # Resource limits
  resources:
    memory_limit_mb: 2048
    cpu_limit_cores: 4
    disk_limit_mb: 1024
    network_bandwidth_mbps: 100

  # Monitoring configuration
  monitoring:
    enabled: true
    metrics_port: 9090
    health_check_interval_seconds: 30
    log_level: "info"
    log_output: "stdout"

status:
  phase: "active"
  last_updated: "2025-01-28T08:55:00Z"
  conditions:
    - type: "AgentsConfigured"
      status: "True"
      lastTransitionTime: "2026-01-27T00:00:00Z"
      reason: "All agents successfully configured"
    - type: "DependenciesResolved"
      status: "True"
      lastTransitionTime: "2026-01-27T00:00:00Z"
      reason: "Agent dependency graph validated"
    - type: "ResourcesAllocated"
      status: "True"
      lastTransitionTime: "2026-01-27T00:00:00Z"
      reason: "Resource limits set"
    - type: "GLGovernanceIntegrated"
      status: "True"
      lastTransitionTime: "2026-01-28T00:31:00Z"
      reason: "GL governance validator agent activated"
    - type: "ValidationEnabled"
      status: "True"
      lastTransitionTime: "2026-01-28T08:30:00Z"
      reason: "GL validation strict mode enabled across all systems"
    - type: "TokenUpdated"
      status: "True"
      lastTransitionTime: "2025-01-28T08:55:00Z"
      reason: "GL_TOKEN refreshed and configured for GitHub integration"