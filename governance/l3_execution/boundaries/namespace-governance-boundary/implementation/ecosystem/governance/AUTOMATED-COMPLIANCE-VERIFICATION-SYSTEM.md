# è‡ªå‹•åŒ–åˆè¦æ€§é©—è­‰ç³»çµ±
# Automated Compliance Verification System

ç‰ˆæœ¬: v1.0.0
å‰µå»ºæ—¥æœŸ: 2026-02-04
Era: 1 (Evidence-Native Bootstrap)
Layer: Operational (Evidence Generation)

---

## ğŸ“‹ æ¦‚è¿°

è‡ªå‹•åŒ–åˆè¦æ€§é©—è­‰ç³»çµ±ï¼ˆAuto-Verify Report Systemï¼‰æ˜¯ä¸€å€‹å®Œæ•´çš„è‡ªå‹•åŒ–å·¥å…·ï¼Œç”¨æ–¼åœ¨æ¯æ¬¡ç”Ÿæˆå ±å‘Šå¾Œè‡ªå‹•é‹è¡Œåˆè¦æ€§é©—è­‰ï¼Œç¢ºä¿æ‰€æœ‰æ²»ç†å ±å‘Šç¬¦åˆ MNGA è¦ç¯„ã€‚

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1. è‡ªå‹•é©—è­‰æµç¨‹

ç³»çµ±æœƒè‡ªå‹•åŸ·è¡Œä»¥ä¸‹å››å€‹é©—è­‰æ­¥é©Ÿï¼š

1. **æ ¸å¿ƒæ²»ç†æª¢æŸ¥** (æ¬Šé‡: 40%)
   - é‹è¡Œ `enforce.py --audit`
   - é©—è­‰ 18 å€‹æ²»ç†æª¢æŸ¥é …
   - æª¢æŸ¥é€šéç‡

2. **è­‰æ“šéˆå®Œæ•´æ€§** (æ¬Šé‡: 10%)
   - é‹è¡Œ `enforce.rules.py`
   - é©—è­‰ 10 å€‹æ²»ç†æ­¥é©Ÿ
   - æª¢æŸ¥è­‰æ“šç”Ÿæˆå’Œäº‹ä»¶æµ

3. **å ±å‘Šèªç¾©åˆè¦æ€§** (æ¬Šé‡: 30%)
   - é‹è¡Œ `semantic_validator.py`
   - é©—è­‰å ±å‘Šèªç¾©
   - æª¢æ¸¬é•è¦å•é¡Œ

4. **å·¥å…·å®šç¾©åˆè¦æ€§** (æ¬Šé‡: 20%)
   - é‹è¡Œ `verify_tool_definition.py`
   - é©—è­‰å·¥å…·è¨»å†Šç‹€æ…‹
   - æª¢æŸ¥åˆè¦æ€§è©•åˆ†

### 2. è©•åˆ†è¨ˆç®—

ç¸½é«”åˆè¦æ€§è©•åˆ†è¨ˆç®—å…¬å¼ï¼š

```
ç¸½åˆ† = (æ ¸å¿ƒæ²»ç†æª¢æŸ¥ Ã— 40%) + (è­‰æ“šéˆå®Œæ•´æ€§ Ã— 10%) + (å ±å‘Šèªç¾©åˆè¦æ€§ Ã— 30%) + (å·¥å…·å®šç¾©åˆè¦æ€§ Ã— 20%)
```

### 3. åˆè¦æ€§ç­‰ç´š

| ç­‰ç´š | åˆ†æ•¸ç¯„åœ | æè¿° | Git æ“ä½œ |
|------|---------|------|---------|
| ğŸŸ¢ å„ªç§€ | 90-100 | ç”Ÿç”¢å°±ç·’ | å…è¨±æäº¤ |
| ğŸŸ¡ è‰¯å¥½ | 75-89 | åŸºæœ¬å°±ç·’ | å…è¨±æäº¤ï¼Œç™¼å‡ºè­¦å‘Š |
| ğŸŸ  åŠæ ¼ | 60-74 | éœ€è¦æ”¹é€² | å…è¨±æäº¤ |
| ğŸ”´ ä¸åˆæ ¼ | 0-59 | éœ€è¦ä¿®å¾© | é˜»æ“‹æäº¤ |

### 4. è‡ªå‹•åŒ–é›†æˆ

- **Pre-commit Hook**: åœ¨æäº¤å‰è‡ªå‹•é©—è­‰ï¼ˆå¯é¸ï¼‰
- **Post-commit Hook**: åœ¨æäº¤å¾Œè¨˜éŒ„è©•åˆ†
- **CI/CD Integration**: å¯é›†æˆåˆ°æŒçºŒé›†æˆæµç¨‹

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# é‹è¡Œè‡ªå‹•é©—è­‰
python3 ecosystem/tools/auto_verify_report.py

# é©—è­‰æŒ‡å®šå ±å‘Š
python3 ecosystem/tools/auto_verify_report.py --report reports/my-report.md

# æŒ‡å®šå·¥ä½œç©ºé–“
python3 ecosystem/tools/auto_verify_report.py --workspace /path/to/workspace

# å˜—è©¦è‡ªå‹•ä¿®å¾©
python3 ecosystem/tools/auto_verify_report.py --auto-fix

# JSON æ ¼å¼è¼¸å‡º
python3 ecosystem/tools/auto_verify_report.py --json-output
```

### Git Hooks è‡ªå‹•åŒ–

```bash
# Post-commit hook æœƒåœ¨æ¯æ¬¡æäº¤å¾Œè‡ªå‹•é‹è¡Œ
git commit -m "feat: Add new feature"
# â†’ è‡ªå‹•é‹è¡Œé©—è­‰ä¸¦è¨˜éŒ„è©•åˆ†

# æŸ¥çœ‹æäº¤çš„åˆè¦æ€§è©•åˆ†
git notes show HEAD
```

---

## ğŸ“Š è¼¸å‡ºå ±å‘Š

### æ§åˆ¶å°è¼¸å‡º

```
================================================================================
ğŸš€ é–‹å§‹è‡ªå‹•åŒ–å ±å‘Šé©—è­‰
================================================================================

ğŸ” 1ï¸âƒ£ é‹è¡Œæ ¸å¿ƒæ²»ç†æª¢æŸ¥...
ğŸ” 2ï¸âƒ£ é©—è­‰è­‰æ“šéˆå®Œæ•´æ€§...
ğŸ” 3ï¸âƒ£ é©—è­‰å ±å‘Šèªç¾©åˆè¦æ€§...
ğŸ” 4ï¸âƒ£ é©—è­‰å·¥å…·å®šç¾©åˆè¦æ€§...

âœ… é©—è­‰å ±å‘Šå·²ä¿å­˜: /workspace/reports/auto-verify-report-20260204_102432.md

================================================================================
ğŸ›¡ï¸ è‡ªå‹•åŒ–å ±å‘Šé©—è­‰ç³»çµ±å ±å‘Š
================================================================================

ğŸ“… ç”Ÿæˆæ™‚é–“: 2026-02-04T10:24:30.599245
ğŸ“ å ±å‘Šæ–‡ä»¶: N/A
ğŸ¯ Era: 1 (Evidence-Native Bootstrap)
ğŸ—ï¸  Layer: Operational (Evidence Generation)

================================================================================
ğŸ“Š ç¸½é«”åˆè¦æ€§è©•åˆ†
================================================================================

ç¸½åˆ†: 68.7/100
ç­‰ç´š: ğŸŸ  åŠæ ¼
ç‹€æ…‹: âœ… é€šé
é–¾å€¼: 60.0/100

================================================================================
ğŸ” åˆ†é …é©—è­‰çµæœ
================================================================================

1ï¸âƒ£ æ ¸å¿ƒæ²»ç†æª¢æŸ¥
   å¾—åˆ†: 100.0/100
   æ¬Šé‡: 40%
   åŠ æ¬Šå¾—åˆ†: 40.0
   ç‹€æ…‹: âœ… PASS
   é€šé: 18/18

2ï¸âƒ£ è­‰æ“šéˆå®Œæ•´æ€§
   å¾—åˆ†: 80.0/100
   æ¬Šé‡: 10%
   åŠ æ¬Šå¾—åˆ†: 8.0
   ç‹€æ…‹: âŒ FAIL

3ï¸âƒ£ å ±å‘Šèªç¾©åˆè¦æ€§
   å¾—åˆ†: 66.7/100
   æ¬Šé‡: 30%
   åŠ æ¬Šå¾—åˆ†: 20.0
   ç‹€æ…‹: âŒ FAIL
   é•è¦æ•¸: 6

4ï¸âƒ£ å·¥å…·å®šç¾©åˆè¦æ€§
   å¾—åˆ†: 3.2/100
   æ¬Šé‡: 20%
   åŠ æ¬Šå¾—åˆ†: 0.6
   ç‹€æ…‹: âŒ FAIL
   è¨»å†Š: 7/140

================================================================================
ğŸ“‹ è©•åˆ†è¨ˆç®—
================================================================================

åŠ æ¬Šç¸½åˆ†: 68.7
ç¸½æ¬Šé‡: 1.00
æœ€çµ‚å¾—åˆ†: 68.7/100

================================================================================
ğŸš¨ å»ºè­°è¡Œå‹•
================================================================================

âœ… åˆè¦æ€§æª¢æŸ¥é€šéï¼Œå ±å‘Šå¯ä»¥ç™¼å¸ƒã€‚

================================================================================
å ±å‘ŠçµæŸ
================================================================================

âœ… è‡ªå‹•é©—è­‰å®Œæˆ - åˆè¦æ€§æª¢æŸ¥é€šé
```

### Markdown å ±å‘Šæ–‡ä»¶

ç³»çµ±æœƒè‡ªå‹•ç”Ÿæˆè©³ç´°çš„ Markdown æ ¼å¼é©—è­‰å ±å‘Šï¼Œä¿å­˜åˆ° `reports/` ç›®éŒ„ï¼š

```
reports/auto-verify-report-20260204_102432.md
```

å ±å‘ŠåŒ…å«ï¼š
- é©—è­‰æ™‚é–“å’Œå…ƒæ•¸æ“š
- ç¸½é«”åˆè¦æ€§è©•åˆ†
- åˆ†é …é©—è­‰çµæœ
- è©•åˆ†è¨ˆç®—è©³æƒ…
- å»ºè­°è¡Œå‹•é …

---

## ğŸ”§ é…ç½®é¸é …

### åˆè¦æ€§é–¾å€¼

åœ¨ `auto_verify_report.py` ä¸­å¯ä»¥ä¿®æ”¹é–¾å€¼ï¼š

```python
self.thresholds = {
    "critical": 60.0,  # ä½æ–¼æ­¤å€¼å‰‡é˜»æ“‹æäº¤
    "warning": 75.0,   # ä½æ–¼æ­¤å€¼å‰‡ç™¼å‡ºè­¦å‘Š
    "good": 90.0       # é«˜æ–¼æ­¤å€¼å‰‡è¦–ç‚ºå„ªç§€
}
```

### æ¬Šé‡èª¿æ•´

å¯ä»¥æ ¹æ“šéœ€æ±‚èª¿æ•´å„é …é©—è­‰çš„æ¬Šé‡ï¼š

```python
results = [
    self.verify_governance_checks(),   # æ¬Šé‡: 0.40
    self.verify_evidence_chain(),      # æ¬Šé‡: 0.10
    self.verify_semantic_compliance(), # æ¬Šé‡: 0.30
    self.verify_tool_definition()      # æ¬Šé‡: 0.20
]
```

---

## ğŸ“ˆ æ•´åˆåˆ° CI/CD

### GitHub Actions ç¤ºä¾‹

```yaml
name: Compliance Verification

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  verify-compliance:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.11'
    
    - name: Install dependencies
      run: |
        pip install -r requirements.txt
    
    - name: Run compliance verification
      run: |
        python3 ecosystem/tools/auto_verify_report.py
    
    - name: Upload verification report
      uses: actions/upload-artifact@v2
      with:
        name: compliance-report
        path: reports/auto-verify-report-*.md
```

### GitLab CI ç¤ºä¾‹

```yaml
stages:
  - verify

compliance_verification:
  stage: verify
  script:
    - python3 ecosystem/tools/auto_verify_report.py
  artifacts:
    paths:
      - reports/auto-verify-report-*.md
    expire_in: 1 week
  only:
    - main
    - merge_requests
```

---

## ğŸ¯ æœ€ä½³å¯¦è¸

### 1. å®šæœŸé‹è¡Œ

```bash
# æ¯å¤©è‡ªå‹•é‹è¡Œ
0 0 * * * cd /workspace && python3 ecosystem/tools/auto_verify_report.py

# æ¯æ¬¡æäº¤å¾Œè‡ªå‹•é‹è¡Œï¼ˆé€šé post-commit hookï¼‰
```

### 2. ç›£æ§è¶¨å‹¢

å®šæœŸæŸ¥çœ‹è©•åˆ†è¶¨å‹¢ï¼Œç¢ºä¿åˆè¦æ€§æŒçºŒæ”¹å–„ï¼š

```bash
# æŸ¥çœ‹æœ€è¿‘çš„é©—è­‰å ±å‘Š
ls -lt reports/auto-verify-report-*.md | head -10

# ç¹ªè£½è©•åˆ†è¶¨å‹¢åœ–
python3 ecosystem/tools/plot_compliance_trend.py
```

### 3. è¨­å®šç›®æ¨™

æ ¹æ“šç•¶å‰è©•åˆ†è¨­å®šæ”¹é€²ç›®æ¨™ï¼š

- **çŸ­æœŸ (1-2 é€±)**: å¾ 68.7 â†’ 85/100
- **ä¸­æœŸ (1-2 æœˆ)**: å¾ 85 â†’ 92/100
- **é•·æœŸ (3-6 æœˆ)**: å¾ 92 â†’ 95/100

---

## ğŸ” æ•…éšœæ’é™¤

### å•é¡Œ: é©—è­‰å¤±æ•—

**ç—‡ç‹€**: é‹è¡Œå¾Œè¿”å›é€€å‡ºç¢¼ 1

**è§£æ±ºæ–¹æ¡ˆ**:
1. æŸ¥çœ‹è©³ç´°å ±å‘Š: `cat reports/auto-verify-report-*.md`
2. æª¢æŸ¥å¤±æ•—çš„é©—è­‰é …ç›®
3. ä¿®å¾©å•é¡Œå¾Œé‡æ–°é‹è¡Œ

### å•é¡Œ: æ¬Šé‡è¨ˆç®—éŒ¯èª¤

**ç—‡ç‹€**: ç¸½åˆ†è¨ˆç®—ä¸æº–ç¢º

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ `calculate_overall_score()` æ–¹æ³•
2. ç¢ºèªæ¬Šé‡ç¸½å’Œç‚º 1.0
3. é©—è­‰æ¯å€‹åˆ†é …çš„è©•åˆ†

### å•é¡Œ: Git hooks ä¸å·¥ä½œ

**ç—‡ç‹€**: æäº¤æ™‚æ²’æœ‰é‹è¡Œé©—è­‰

**è§£æ±ºæ–¹æ¡ˆ**:
1. æª¢æŸ¥ hook æ¬Šé™: `chmod +x .git/hooks/post-commit`
2. ç¢ºèª Python è·¯å¾‘æ­£ç¢º
3. æ‰‹å‹•æ¸¬è©¦ hook: `.git/hooks/post-commit`

---

## ğŸ“š ç›¸é—œæ–‡æª”

- [COMPLIANCE-SCORE-DASHBOARD.md](../../reports/COMPLIANCE-SCORE-DASHBOARD.md) - åˆè¦æ€§è©•åˆ†å„€è¡¨æ¿
- [reporting-governance-spec.md](reporting-governance-spec.md) - å ±å‘Šæ²»ç†è¦ç¯„
- [tool-definition-protocol.md](tool-definition-protocol.md) - å·¥å…·å®šç¾©å”å®š

---

## ğŸ”„ æ›´æ–°æ—¥èªŒ

### v1.0.0 (2026-02-04)
- âœ… åˆå§‹ç‰ˆæœ¬ç™¼å¸ƒ
- âœ… å¯¦ç¾å››é …æ ¸å¿ƒé©—è­‰
- âœ… æ”¯æŒè‡ªå‹•è©•åˆ†è¨ˆç®—
- âœ… Git hooks é›†æˆ
- âœ… Markdown å ±å‘Šç”Ÿæˆ
- âœ… JSON æ ¼å¼è¼¸å‡ºæ”¯æŒ

---

## ğŸ“ æ”¯æŒ

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹ï¼š
1. æŸ¥çœ‹ GitHub Issues
2. æäº¤æ–°çš„ Issue
3. è¯ç¹«æ²»ç†åœ˜éšŠ

---

**æ–‡æª”ç‰ˆæœ¬**: v1.0.0
**æœ€å¾Œæ›´æ–°**: 2026-02-04
**ç¶­è­·è€…**: MNGA Governance Team