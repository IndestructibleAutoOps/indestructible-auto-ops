# Execution Plan

version: 1.0.0
execution_mode: automated_with_validation_checkpoints

# Pre-Execution
pre_execution:
  backup:
    action: create_full_repository_backup
    command: |
      git branch backup-$(date +%Y%m%d-%H%M%S)
      git add -A
      git commit -m "Backup before reorganization"

  validation:
    action: run_pre_migration_validation
    checks:
      - git_status_clean
      - no_uncommitted_changes
      - all_tests_passing
      - ecosystem_enforce_passes

  preparation:
    action: create_target_directory_structure
    commands:
      - mkdir -p ng-namespace-governance/implementation/ecosystem
      - mkdir -p ng-namespace-governance/reports/audit
      - mkdir -p platforms/gl
      - mkdir -p archives/documentation

# Phase 1: Ecosystem Migration
phase_1_ecosystem:
  step_1_1:
    action: move_ecosystem_to_ng_implementation
    command: |
      git mv ecosystem ng-namespace-governance/implementation/

  step_1_2:
    action: update_ecosystem_readme
    target: ng-namespace-governance/implementation/ecosystem/README.md
    updates:
      - update_path_references
      - add_ng_governance_context

  step_1_3:
    action: merge_audit_reports
    command: |
      git mv audit-reports ng-namespace-governance/reports/audit

  step_1_4:
    action: merge_auto_task_project
    command: |
      mkdir -p ng-namespace-governance/implementation/ecosystem/automation/task-engine
      git mv auto_task_project/* ng-namespace-governance/implementation/ecosystem/automation/task-engine/
      rmdir auto_task_project

  validation_checkpoint:
    checks:
      - verify_ecosystem_structure
      - verify_audit_reports_merged
      - verify_task_engine_merged
      - run_ecosystem_tests

# Phase 2: GL Platform Reorganization
phase_2_gl_platforms:
  step_2_1:
    action: create_gl_platform_structure
    commands:
      - mkdir -p platforms/gl/meta-specifications
      - mkdir -p platforms/gl/enterprise-architecture
      - mkdir -p platforms/gl/platform-services
      - mkdir -p platforms/gl/data-processing
      - mkdir -p platforms/gl/semantic-core
      - mkdir -p platforms/gl/search-elasticsearch
      - mkdir -p platforms/gl/runtime-execution
      - mkdir -p platforms/gl/automation-instant
      - mkdir -p platforms/gl/automation-organizer
      - mkdir -p platforms/gl/infrastructure-foundation
      - mkdir -p platforms/gl/runtime-services
      - mkdir -p platforms/gl/observability
      - mkdir -p platforms/gl/governance-compliance
      - mkdir -p platforms/gl/governance-architecture
      - mkdir -p platforms/gl/extension-services
      - mkdir -p platforms/gl/integration-hub
      - mkdir -p platforms/gl/quantum-computing

  step_2_2:
    action: move_gl_platforms
    commands:
      - git mv gov-meta-specifications-platform platforms/gl/meta-specifications
      - git mv gov-enterprise-architecture platforms/gl/enterprise-architecture
      - git mv gov-platform-core-platform platforms/gl/platform-services
      - git mv gov-data-processing-platform platforms/gl/data-processing
      - git mv gov-semantic-core-platform platforms/gl/semantic-core
      - git mv gov-search-elasticsearch-platform platforms/gl/search-elasticsearch
      - git mv gov-runtime-execution-platform platforms/gl/runtime-execution
      - git mv gov-automation-instant-platform platforms/gl/automation-instant
      - git mv gov-automation-organizer-platform platforms/gl/automation-organizer
      - git mv gov-infrastructure-foundation-platform platforms/gl/infrastructure-foundation
      - git mv gov-runtime-services-platform platforms/gl/runtime-services
      - git mv gov-monitoring-observability-platform platforms/gl/observability
      - git mv gov-governance-compliance-platform platforms/gl/governance-compliance
      - git mv gov-governance-architecture-platform platforms/gl/governance-architecture
      - git mv gov-extension-services-platform platforms/gl/extension-services
      - git mv gov-integration-hub-platform platforms/gl/integration-hub
      - git mv gov-quantum-computing-platform platforms/gl/quantum-computing

  step_2_3:
    action: create_platform_index
    target: platforms/gl/README.md
    content: |
      # GL Governance Layer Platforms

      Platforms organized by GL layer hierarchy.

      ## Structure
      - meta-specifications/ (GL90-99)
      - enterprise-architecture/ (GL00-09)
      - platform-services/ (GL10-19)
      - data-processing/ (GL20-29)
      - semantic-core/ (GL20-29)
      - search-elasticsearch/ (GL20-29)
      - runtime-execution/ (GL30-39)
      - automation-instant/ (GL30-39)
      - automation-organizer/ (GL30-39)
      - infrastructure-foundation/ (GL30-39)
      - runtime-services/ (GL40-49)
      - observability/ (GL50-59)
      - governance-compliance/ (GL60-80)
      - governance-architecture/ (GL60-80)
      - extension-services/ (GL81-83)
      - integration-hub/ (GL81-83)
      - quantum-computing/ (GL81-83)

  validation_checkpoint:
    checks:
      - verify_all_platforms_moved
      - verify_no_orphaned_gl_directories
      - verify_platform_structure

# Phase 3: Support Directory Consolidation
phase_3_support:
  step_3_1:
    action: merge_governance_directory
    commands:
      - git mv governance/* ng-namespace-governance/implementation/ecosystem/governance/
      - rmdir governance

  step_3_2:
    action: merge_policies
    commands:
      - mkdir -p ng-namespace-governance/core/policies
      - git mv policies/* ng-namespace-governance/core/policies/
      - rmdir policies

  step_3_3:
    action: merge_metrics
    commands:
      - mkdir -p platforms/gl/observability/metrics
      - git mv metrics/* platforms/gl/observability/metrics/
      - rmdir metrics

  step_3_4:
    action: merge_evidence
    commands:
      - mkdir -p ng-namespace-governance/analysis/evidence
      - git mv evidence/* ng-namespace-governance/analysis/evidence/
      - rmdir evidence

  step_3_5:
    action: merge_designs
    commands:
      - mkdir -p docs/architecture/designs
      - git mv designs/* docs/architecture/designs/
      - rmdir designs

  step_3_6:
    action: merge_deploy
    command: |
      cp -r deploy/* deployment/
      git rm -r deploy

  step_3_7:
    action: merge_tools
    commands:
      - mkdir -p scripts/tools
      - git mv tools/* scripts/tools/
      - rmdir tools

  step_3_8:
    action: merge_shared
    commands:
      - mkdir -p ng-namespace-governance/implementation/ecosystem/shared
      - git mv shared/* ng-namespace-governance/implementation/ecosystem/shared/
      - rmdir shared

  step_3_9:
    action: archive_outputs
    command: |
      git mv outputs archives/old-outputs

  validation_checkpoint:
    checks:
      - verify_directories_merged
      - verify_no_duplicate_content
      - verify_file_accessibility

# Phase 4: Root Markdown Migration
phase_4_root_files:
  step_4_1:
    action: archive_completion_reports
    commands:
      - git mv CI-FIXES-COMPLETE.md archives/documentation/
      - git mv WORK-CONTINUATION-COMPLETE.md archives/documentation/
      - git mv FINAL-WORK-SUMMARY.md archives/documentation/
      - git mv comprehensive-cross-comparison-report.md archives/documentation/
      - git mv governance-enforcement-implementation-summary.md archives/documentation/
      - git mv network-interaction-implementation-summary.md archives/documentation/
      - git mv professional-naming-restructure-proposal.md archives/documentation/
      - git mv phase1-semantic-models.md archives/documentation/
      - git mv execution-plan.md archives/documentation/
      - git mv governance-enforcement-progress-report.md archives/documentation/

  step_4_2:
    action: move_specifications
    command: |
      mkdir -p docs/specifications
      git mv monica-ai-agent-engineering-specification.md docs/specifications/

  step_4_3:
    action: move_development_docs
    command: |
      mkdir -p docs/development
      git mv DEVELOPMENT-STRATEGY.md docs/development/

  step_4_4:
    action: move_analysis_docs
    commands:
      - mkdir -p docs/analysis
      - git mv indestructible-autoops-comprehensive-analysis.md docs/analysis/

  step_4_5:
    action: move_architecture_docs
    commands:
      - git mv platform-directory-structure-best-practices.md docs/architecture/
      - git mv one-stop-architecture-specs.md docs/architecture/

  step_4_6:
    action: merge_ecosystem_readme
    command: |
      if [ -f readme-ecosystem.md ]; then
        cat readme-ecosystem.md >> ng-namespace-governance/implementation/ecosystem/README.md
        git rm readme-ecosystem.md
      fi

  step_4_7:
    action: move_ecosystem_root_definition
    command: |
      git mv ECOSYSTEM-ROOT-LAYER-DEFINITION.md ng-namespace-governance/implementation/ecosystem/

  validation_checkpoint:
    checks:
      - verify_root_clean
      - verify_files_accessible
      - verify_no_broken_links

# Phase 5: Cleanup
phase_5_cleanup:
  step_5_1:
    action: handle_tmp_directory
    command: |
      if [ -d tmp ] && [ -z "$(ls -A tmp)" ]; then
        rmdir tmp
      else
        echo "tmp/" >> .gitignore
      fi

  step_5_2:
    action: evaluate_machine_native_ops
    command: |
      if [ -d machine-native-ops ]; then
        mkdir -p docs/reference
        git mv machine-native-ops docs/reference/
      fi

  step_5_3:
    action: evaluate_complements
    command: |
      if [ -d complements ]; then
        mkdir -p ng-namespace-governance/implementation/ecosystem/templates
        cp -r complements/templates/* ng-namespace-governance/implementation/ecosystem/templates/
        git rm -r complements
      fi

  step_5_4:
    action: remove_empty_directories
    command: |
      find . -type d -empty -delete

  step_5_5:
    action: update_gitignore
    additions:
      - tmp/
      - "*.tmp"
      - "*.temp"
      - outputs/
      - .DS_Store

  validation_checkpoint:
    checks:
      - verify_no_empty_directories
      - verify_gitignore_updated

# Phase 6: Documentation Updates
phase_6_documentation:
  step_6_1:
    action: update_root_readme
    target: README.md
    updates:
      - update_directory_structure_section
      - update_quick_start_paths
      - add_reorganization_notice

  step_6_2:
    action: update_architecture_doc
    target: ARCHITECTURE.md
    updates:
      - update_directory_references
      - update_governance_structure
      - update_platform_organization

  step_6_3:
    action: update_contributing_guide
    target: CONTRIBUTING.md
    updates:
      - update_file_placement_guidelines
      - update_directory_conventions

  step_6_4:
    action: create_migration_guide
    target: docs/migration/REORGANIZATION-2026.md
    content: |
      # Repository Reorganization 2026

      ## Summary
      Reorganized repository to establish ng-namespace-governance as meta-governance core.

      ## Key Changes
      - ecosystem → ng-namespace-governance/implementation/ecosystem
      - gl-*-platform → platforms/gl/
      - Consolidated duplicate directories
      - Archived historical documentation

      ## Migration Guide
      [Document path changes and update instructions]

  validation_checkpoint:
    checks:
      - verify_documentation_updated
      - verify_links_valid

# Phase 7: Import Path Updates
phase_7_imports:
  step_7_1:
    action: update_python_imports
    script: |
      # Update imports from ecosystem to new path
      find . -name "*.py" -type f -exec sed -i 's/from ecosystem\./from ng_namespace_governance.implementation.ecosystem./g' {} \;
      find . -name "*.py" -type f -exec sed -i 's/import ecosystem\./import ng_namespace_governance.implementation.ecosystem./g' {} \;

  step_7_2:
    action: update_yaml_references
    script: |
      # Update YAML path references
      find . -name "*.yaml" -type f -exec sed -i 's|/ecosystem/|/ng-namespace-governance/implementation/ecosystem/|g' {} \;

  step_7_3:
    action: update_script_paths
    script: |
      # Update shell script paths
      find . -name "*.sh" -type f -exec sed -i 's|/ecosystem/|/ng-namespace-governance/implementation/ecosystem/|g' {} \;

  validation_checkpoint:
    checks:
      - verify_imports_updated
      - run_syntax_checks
      - run_linters

# Phase 8: Validation
phase_8_validation:
  step_8_1:
    action: run_ecosystem_enforcement
    command: |
      python ng-namespace-governance/implementation/ecosystem/enforce.py

  step_8_2:
    action: run_ng_validation
    command: |
      python ng-namespace-governance/tools/ng-namespace-validator.py

  step_8_3:
    action: run_test_suite
    command: |
      pytest tests/

  step_8_4:
    action: validate_directory_structure
    checks:
      - ng_namespace_governance_is_root
      - ecosystem_under_ng_implementation
      - gl_platforms_grouped
      - duplicates_removed
      - root_clean

  step_8_5:
    action: generate_validation_report
    target: reorganization/validation-report.md
    sections:
      - directory_structure_validation
      - file_migration_verification
      - import_path_validation
      - test_results
      - governance_compliance

# Post-Execution
post_execution:
  step_9_1:
    action: commit_changes
    command: |
      git add -A
      git commit -m "Reorganize governance structure: establish NG as meta-governance root"

  step_9_2:
    action: create_tag
    command: |
      git tag -a reorganization-2026 -m "Repository reorganization completing governance structure"

  step_9_3:
    action: generate_summary
    target: reorganization/EXECUTION-SUMMARY.md
    content: |
      # Reorganization Execution Summary

      ## Completed
      - [x] Ecosystem migrated to ng-namespace-governance/implementation
      - [x] GL platforms grouped under platforms/gl/
      - [x] Duplicate directories merged
      - [x] Root markdown files archived
      - [x] Documentation updated
      - [x] Import paths updated
      - [x] All validations passed

      ## Statistics
      - Directories moved: [count]
      - Files migrated: [count]
      - Import paths updated: [count]
      - Tests passing: [count]

# Rollback Plan
rollback:
  condition: validation_fails
  action: restore_from_backup
  command: |
    git reset --hard backup-$(date +%Y%m%d)
    git branch -D backup-$(date +%Y%m%d)

# Execution Command
execution_command: |
  bash reorganization/execute-reorganization.sh

# Monitoring
monitoring:
  track:
    - execution_time
    - files_moved
    - directories_created
    - validation_results
    - errors_encountered

  log_file: reorganization/execution.log
