# Meta-Topology Specification
# Version: 1.0.0
# Layer: Meta-Spec / Topology

@GL-semantic: meta-topology-spec
@GL-audit-trail: enabled

meta_spec:
  id: org.mnga.meta-topology@1.0.0
  version: "1.0.0"
  title: "Meta-Topology Specification"
  description: |
    Defines the topology and relationships between all governance 
    specifications in the ecosystem.
  
  immutable: true

topology_layers:
  # Layer 0: Meta-Spec (Specifications of specifications)
  - id: "meta-spec"
    level: 0
    description: "Meta-governance layer"
    immutable: true
    sublayers:
      - language
      - format
      - semantics
      - topology
      - registry
    
  # Layer 1: UGS (Unified Governance Specification)
  - id: "ugs"
    level: 1
    description: "Unified governance specification layer"
    immutable: true
    sublayers:
      - l00-language
      - l50-format
      - l02-semantics
      - l03-index
      - l04-topology
    
  # Layer 2: Engines
  - id: "engines"
    level: 2
    description: "Specification execution engines"
    immutable: false
    sublayers:
      - refresh
      - reverse-architecture
      - validation
  
  # Layer 3: Rules
  - id: "rules"
    level: 3
    description: "High-level governance rules"
    immutable: false
    sublayers:
      - naming
      - topology
      - semantics

dependency_graph:
  meta-spec:
    depends_on: []
    is_depended_by: ["ugs", "engines", "rules"]
  
  ugs:
    depends_on: ["meta-spec"]
    is_depended_by: ["rules"]
  
  engines:
    depends_on: ["meta-spec", "ugs"]
    is_depended_by: []
  
  rules:
    depends_on: ["meta-spec", "ugs"]
    is_depended_by: []

circular_dependency_prevention:
  enabled: true
  algorithm: "topological_sort"
  violation_action: "reject"

version_compatibility:
  meta-spec:
    ugs: ">=1.0.0"
    engines: ">=1.0.0"
    rules: ">=1.0.0"
  
  ugs:
    meta-spec: ">=1.0.0"
    rules: ">=1.0.0"