# @GL-governed
# @GL-layer: GL90-99
# @GL-semantic: auto-pull-request-configuration
# @GL-audit-trail: ../../engine/governance/GL_SEMANTIC_ANCHOR.json

apiVersion: gl.machinenativeops.io/v1
kind: AutoPullRequest
metadata:
  name: gl-runtime-auto-pr
  version: "1.0.0"
  layer: "GL90-99"
  owner: "engineering-team"
  annotations:
    governance.machinenativeops.io/classification: "internal"
    governance.machinenativeops.io/approval: "approved"
    governance.machinenativeops.io/charter-version: "2.0.0"

spec:
  enable: true
  targets:
    - "github"
  title_template: "GL Auto-Fix: Governance & Structure Repairs ({{issueSummary}})"
  body_template: |
    This PR was automatically generated by gl-runtime-platform v4 auto-repair layer.

    ## Summary
    - Scope: {{scope}}
    - Issues fixed: {{issuesFixedCount}}
    - Pipelines executed: {{pipelines}}
    - Files repaired: {{filesRepairedCount}}

    ## Repair Details
    {{#each repairs}}
    - {{this.issueType}}: {{this.filePath}}
    {{/each}}

    ## Compliance
    - GL Governance Compliance: {{complianceScore}}%
    - Semantic Anchors: {{semanticAnchorStatus}}
    - Metadata Completeness: {{metadataCompleteness}}%

    ---
    Generated by GL Runtime Platform v4 Auto-Repair Layer
  labels:
    - "gl-auto-fix"
    - "governance"
    - "automated"
  reviewers:
    - "gl-governance-team"
  auto_merge:
    enabled: false
    condition: "all-checks-passed"
    require_approvals: 1

status:
  phase: "configured"
  conditions:
    - type: "Enabled"
      status: "True"
      lastTransitionTime: "2026-01-28T13:29:00Z"
      reason: "Auto-PR strategy activated"
    - type: "GLGovernanceIntegrated"
      status: "True"
      lastTransitionTime: "2026-01-28T13:29:00Z"
      reason: "GL semantic anchor verified"