# @GL-governed
# @GL-layer: governance
# @GL-semantic: federation-org-registry
# @GL-charter-version: 2.0.0
# @GL-audit-trail: ../../engine/governance/GL_SEMANTIC_ANCHOR.json

apiVersion: federation.machinenativeops.io/v1
kind: OrganizationRegistry
metadata:
  name: organization-registry
  version: "9.0.0"
  created_at: "2026-01-28T00:00:00Z"
  updated_at: "2026-01-30T00:00:00Z"
  created_at: "2026-01-30T00:00:00Z"
  layer: "GL90-99"
  owner: "engineering-team"
  annotations:
    governance.machinenativeops.io/classification: "internal"
    governance.machinenativeops.io/approval: "approved"
    governance.machinenativeops.io/charter-version: "2.0.0"
    governance.machinenativeops.io/semantic-enabled: "true"
    governance.machinenativeops.io/dag-version: "9.0.0"
    governance.machinenativeops.io/global-dag-enabled: "true"

spec:
  organizations:
    - id: "org-001"
      name: "MachineNativeOps"
      type: "root"
      trust_level: "high"
      gl_compliance_level: "GL90-99"
      semantic_analysis_enabled: true
      auto_repair_enabled: true
      federation_enabled: true
      signing_required: true
      global_dag:
        enabled: true
        node_id: "dag-org-001"
        participation_level: "full"
        dag_builder_enabled: true
        dag_executor_enabled: true
        cross_repo_resolver_enabled: true
      contact:
        email: "engineering@machinenativeops.io"
        team: "platform-team"
      projects:
        - project-id: "proj-001"
          name: "Machine Native Ops Platform"
          repository_url: "https://github.com/MachineNativeOps/machine-native-ops.git"
          primary_language: "typescript"
          gl_level: "GL90-99"
          semantic_enabled: true
          auto_repair_enabled: true
          criticality: "critical"
        - project-id: "proj-002"
          name: "Elasticsearch Search System"
          repository_url: "https://github.com/MachineNativeOps/elasticsearch-search-system.git"
          primary_language: "typescript"
          gl_level: "GL70-89"
          semantic_enabled: true
          auto_repair_enabled: true
          criticality: "high"
        - project-id: "proj-003"
          name: "File Organizer System"
          repository_url: "https://github.com/MachineNativeOps/file-organizer-system.git"
          primary_language: "python"
          gl_level: "GL70-89"
          semantic_enabled: true
          auto_repair_enabled: true
          criticality: "high"

    - id: "org-002"
      name: "Enterprise A"
      type: "member"
      trust_level: "medium"
      gl_compliance_level: "GL70-89"
      semantic_analysis_enabled: true
      auto_repair_enabled: false
      federation_enabled: true
      signing_required: true
      global_dag:
        enabled: true
        node_id: "dag-org-002"
        participation_level: "observer"
        dag_builder_enabled: false
        dag_executor_enabled: false
        cross_repo_resolver_enabled: false
      contact:
        email: "platform@enterprise-a.io"
        team: "devops-team"
      projects:
        - project-id: "proj-004"
          name: "Enterprise A Core System"
          repository_url: "https://github.com/EnterpriseA/core-system.git"
          primary_language: "java"
          gl_level: "GL70-79"
          semantic_enabled: true
          auto_repair_enabled: false
          criticality: "high"

  semantic_mapping:
    enabled: true
    auto_discovery: true
    classification_required: true
    schema_validation_required: true
    gl_mapping_required: true

  compliance_enforcement:
    require_semantic_anchors: true
    require_gl_layers: true
    require_charter_version: true
    require_governed_tags: true
    auto_fix_minor_violations: true
    block_on_major_violations: true